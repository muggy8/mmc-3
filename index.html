<html>
	<head>
		<title>Music Matrix Composer V3</title>
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<script>document.location.hash.match(/debug/) && document.write('<script src="//unpkg.com/mobile-inspector">\<\/script\>')</script>
		<script src="https://cdn.rawgit.com/bramstein/fontfaceobserver/111670b895c338bed371ad5feb95d8573ce3d0c9/fontfaceobserver.standalone.js"></script>
		<script>
			new FontFaceObserver("Source Sans Pro")
				.load()
				.then(function(){
					document.body.className += " has-font"
				})
		</script>
		<link href="/app/css/critical.css" rel="stylesheet"/>
	</head>
	<body>
		<header class="relative">
            <div class="flex-big vhcenter wrap bg-primary">
                <h1 class="text-center cell">
                    Music Matrix Composer (V3)
                </h1>
                <div class="hide block-big grow"></div>
                <nav class="flex hcenter vend-big">
                    <div
                        class="cell bg-primary-dark-hover {:
                            (this.app.nav.subNavSection === 'login') ? 'bg-primary-dark' : ''
                        :}|{nav.subNavSection}| {: this.app.user.name.toString() && ' hidden-state ':}|{user.name}|"
                        onclick="(this.app.nav.subNavSection === 'login') ? (this.app.nav.subNavSection = '') : (this.app.nav.subNavSection = 'login')"
                    >Login</div>
                    <div
                        class="cell bg-primary-dark-hover {:
                            (this.app.nav.subNavSection === 'account') ? 'bg-primary-dark' : ''
                        :}|{nav.subNavSection}| {: !this.app.user.name.toString() && ' hidden-state ':}|{user.name}|"
                        onclick="(this.app.nav.subNavSection === 'account') ? (this.app.nav.subNavSection = '') : (this.app.nav.subNavSection = 'account')"
                    >Account</div>
                    <div
                        class="cell bg-primary-dark-hover {: !this.app.user.name.toString() && ' hidden-state ':}|{user.name}|"
                        onclick="this.app.nav.logout()"
                    >LogOut</div>
                </nav>
            </div>

            <!-- sub menu -->
            <div class="absolute-big col-1-6-big bg-primary-dark text-center {: this.app.nav.subNavSection.toString() ? '' : ' hidden-state ' :}|{nav.subNavSection}|" style="top: 100%; right:0;">

				<!-- Login with ... -->
				<div class="{: (this.app.nav.subNavSection === 'login') ? '' : ' hidden-state ' :}|{nav.subNavSection}| cell">
					Login With
                    <a href="/api/auth/reddit" target="_blank" class="block color-gray-light color-white-hover bg-primary-light-hover">Reddit</a>
                </div>

				<!-- my account -->
				<form class="{: (this.app.nav.subNavSection === 'account') ? '' : ' hidden-state ' :}|{nav.subNavSection}| flex-mid vhcenter block-big" onsubmit="this.app.nav.patchUser(this.app.sendUser); this.app.sendUser = {}; return false;">
					<label class="block cell text-left-big">
						Name: <input type="text" name="user.name" class="bg-gray col-2-2-big" onchange="this.app.sendUser.name = this.app.user.name.toString()" required>
					</label>
					<label class="block cell text-left-big">
						Email (public): <input type="email" name="user.email" class="bg-gray col-2-2-big" onchange="this.app.sendUser.email = this.app.user.email.toString()">
					</label>
					<label class="block cell text-left-big">
						Website (public): <input type="url" name="user.website" class="bg-gray col-2-2-big" onchange="this.app.sendUser.website = this.app.user.website.toString()">
					</label>
					<button type="submit" class="island">Save</button>
				</form>
            </div>

		</header>
		<main></main>
        <div id="loading" class="hidden-state"></div>
		<script src="https://cdn.rawgit.com/muggy8/proxymity/9b794d9162e1c48058cd6970aedf6131f6b67b86/dist/proxymity.js"></script>
		<script src="//unpkg.com/aja@0.4.1/aja.min.js"></script>
		<link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro" rel="stylesheet">
		<link href="/app/css/styles.css" rel="stylesheet"/>
		<script src="/app/js/"></script>
	</body>
</html>
